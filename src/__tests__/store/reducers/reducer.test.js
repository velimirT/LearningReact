import C from '../../../store/Constants';
import { MainReducer } from '../../../store/Reducers';
import deepFreeze from 'deep-freeze';

describe
("color Reducer"
, () => {
    it("CHOOSE_PLACE", () => {
    	const state = {};
    	const action = 
		{
			type: C.CHOOSE_PLACE,
			id: 2,
		}
    	
    	const result = MainReducer(state, action);
    	deepFreeze(state);
    	deepFreeze(action);
    	expect(result)
    		.toEqual({
    			chosen_place: 2
    		})
    })
    it("CHOOSE_FLOWER", () => {
    	const state = {};
    	const action = 
    	{
    		type: C.CHOOSE_FLOWER,
    		id: 1,
    		json: JSON.parse('[{"date":1536091812,"co2":"2234","voc":"279","temp":"28.46"},{"date":1536091811,"co2":"2234","voc":"279","temp":"28.46"},{"date":1536091809,"co2":"2257","voc":"282","temp":"28.46"},{"date":1536090907,"co2":"2146","voc":"265","temp":"-357.69"},{"date":1536090905,"co2":"2146","voc":"265","temp":"28.46"},{"date":1536090904,"co2":"2146","voc":"265","temp":"28.46"},{"date":1536090002,"co2":"2158","voc":"267","temp":"28.46"},{"date":1536090000,"co2":"2158","voc":"267","temp":"28.46"},{"date":1536089999,"co2":"2158","voc":"267","temp":"28.46"},{"date":1536089097,"co2":"2370","voc":"300","temp":"29.14"},{"date":1536089095,"co2":"2386","voc":"302","temp":"29.14"},{"date":1536089093,"co2":"2386","voc":"302","temp":"29.14"},{"date":1536088192,"co2":"2307","voc":"290","temp":"28.46"},{"date":1536088190,"co2":"2307","voc":"290","temp":"28.46"},{"date":1536088188,"co2":"2307","voc":"290","temp":"28.46"},{"date":1536087282,"co2":"2038","voc":"249","temp":"27.79"},{"date":1536087275,"co2":"2038","voc":"249","temp":"27.79"},{"date":1536087273,"co2":"2038","voc":"249","temp":"27.79"},{"date":1536086372,"co2":"2092","voc":"257","temp":"28.46"},{"date":1536086370,"co2":"2124","voc":"262","temp":"28.46"},{"date":1536086368,"co2":"2020","voc":"246","temp":"28.46"},{"date":1536085467,"co2":"2178","voc":"270","temp":"28.46"},{"date":1536085465,"co2":"2178","voc":"270","temp":"28.46"},{"date":1536085463,"co2":"2178","voc":"270","temp":"28.46"},{"date":1536084562,"co2":"2289","voc":"287","temp":"28.46"},{"date":1536084560,"co2":"2307","voc":"290","temp":"-40.12"},{"date":1536084558,"co2":"2289","voc":"287","temp":"28.46"},{"date":1536083657,"co2":"2476","voc":"316","temp":"28.46"},{"date":1536083655,"co2":"2457","voc":"313","temp":"28.46"},{"date":1536083653,"co2":"2476","voc":"316","temp":"28.46"},{"date":1536082751,"co2":"2502","voc":"320","temp":"28.46"},{"date":1536082750,"co2":"2502","voc":"320","temp":"28.46"},{"date":1536082748,"co2":"2476","voc":"316","temp":"28.46"},{"date":1536081846,"co2":"2146","voc":"265","temp":"26.91"},{"date":1536081845,"co2":"2146","voc":"265","temp":"26.91"},{"date":1536081843,"co2":"2146","voc":"265","temp":"26.91"},{"date":1536080941,"co2":"2112","voc":"260","temp":"26.91"},{"date":1536080940,"co2":"2112","voc":"260","temp":"26.91"},{"date":1536080938,"co2":"2112","voc":"260","temp":"26.91"},{"date":1536080036,"co2":"2178","voc":"270","temp":"26.91"},{"date":1536080035,"co2":"2197","voc":"273","temp":"26.91"},{"date":1536080033,"co2":"2197","voc":"273","temp":"26.91"},{"date":1536079131,"co2":"2370","voc":"300","temp":"26.91"},{"date":1536079129,"co2":"2370","voc":"300","temp":"26.91"},{"date":1536079127,"co2":"2370","voc":"300","temp":"26.91"},{"date":1536078226,"co2":"1869","voc":"223","temp":"26.26"},{"date":1536078224,"co2":"1869","voc":"223","temp":"26.26"},{"date":1536078222,"co2":"1869","voc":"223","temp":"26.26"},{"date":1536077321,"co2":"1916","voc":"230","temp":"26.26"},{"date":1536077314,"co2":"1931","voc":"233","temp":"26.26"},{"date":1536077312,"co2":"1916","voc":"230","temp":"26.26"},{"date":1536076411,"co2":"2092","voc":"257","temp":"26.91"},{"date":1536076409,"co2":"2112","voc":"260","temp":"26.91"},{"date":1536076407,"co2":"2092","voc":"257","temp":"26.91"},{"date":1536075506,"co2":"2386","voc":"302","temp":"27.79"},{"date":1536075504,"co2":"2386","voc":"302","temp":"27.79"},{"date":1536075502,"co2":"2386","voc":"302","temp":"27.79"},{"date":1536074600,"co2":"2349","voc":"296","temp":"26.91"},{"date":1536074599,"co2":"2370","voc":"300","temp":"26.91"},{"date":1536074597,"co2":"2324","voc":"293","temp":"26.91"},{"date":1536073695,"co2":"2092","voc":"257","temp":"26.26"},{"date":1536073694,"co2":"2092","voc":"257","temp":"26.26"},{"date":1536073692,"co2":"2092","voc":"257","temp":"26.91"},{"date":1536072790,"co2":"2407","voc":"305","temp":"26.91"},{"date":1536072789,"co2":"2407","voc":"305","temp":"26.91"},{"date":1536072787,"co2":"2386","voc":"302","temp":"26.91"},{"date":1536071885,"co2":"2722","voc":"353","temp":"27.79"},{"date":1536071884,"co2":"2722","voc":"353","temp":"27.79"},{"date":1536071882,"co2":"2722","voc":"353","temp":"27.79"},{"date":1536070980,"co2":"2307","voc":"290","temp":"28.46"},{"date":1536070978,"co2":"2289","voc":"287","temp":"29.14"},{"date":1536070977,"co2":"2324","voc":"293","temp":"28.46"},{"date":1536070075,"co2":"2124","voc":"262","temp":"26.91"},{"date":1536070073,"co2":"2124","voc":"262","temp":"26.91"},{"date":1536070072,"co2":"2124","voc":"262","temp":"26.91"},{"date":1536069165,"co2":"2801","voc":"365","temp":"26.91"},{"date":1536069163,"co2":"2830","voc":"370","temp":"26.91"},{"date":1536069162,"co2":"2830","voc":"370","temp":"26.91"},{"date":1536068260,"co2":"2674","voc":"346","temp":"26.26"},{"date":1536068258,"co2":"2704","voc":"351","temp":"26.26"},{"date":1536068257,"co2":"2704","voc":"351","temp":"26.26"},{"date":1536067355,"co2":"2457","voc":"313","temp":"25.63"},{"date":1536067353,"co2":"2476","voc":"316","temp":"25.63"},{"date":1536067352,"co2":"2476","voc":"316","temp":"25.63"},{"date":1536066450,"co2":"2754","voc":"358","temp":"26.26"},{"date":1536066448,"co2":"2775","voc":"361","temp":"26.26"},{"date":1536066447,"co2":"2754","voc":"358","temp":"26.26"},{"date":1536065545,"co2":"2916","voc":"383","temp":"26.26"},{"date":1536065543,"co2":"2916","voc":"383","temp":"26.26"},{"date":1536065541,"co2":"2916","voc":"383","temp":"26.26"},{"date":1536064640,"co2":"2605","voc":"335","temp":"25.63"},{"date":1536064638,"co2":"2586","voc":"333","temp":"25.63"},{"date":1536064636,"co2":"2586","voc":"333","temp":"25.63"},{"date":1536063735,"co2":"2476","voc":"316","temp":"25.63"},{"date":1536063733,"co2":"2476","voc":"316","temp":"25.63"},{"date":1536063731,"co2":"2476","voc":"316","temp":"25.63"},{"date":1536062829,"co2":"3057","voc":"404","temp":"26.91"},{"date":1536062828,"co2":"3057","voc":"404","temp":"26.91"},{"date":1536062826,"co2":"3057","voc":"404","temp":"26.91"},{"date":1536061924,"co2":"2975","voc":"392","temp":"26.26"}]')
    	}
    	const result = MainReducer(state, action);
    	deepFreeze(state);
    	deepFreeze(action);
    	expect(result)
    		.toEqual({
    			chosen_flower: 1,
    			chosen_flower_light: '28.46',
    			chosen_flower_humidity: '279'
    		})
    })
	it("RESET_PLACE", () => {
    	const state = {
    		chosen_place: 2
    	}
    	const action = 
    	{
    		type: C.RESET_PLACE
    	}
    	const result = MainReducer(state, action);
    	deepFreeze(state);
    	deepFreeze(action);
    	expect(result)
    		.toEqual({
    			chosen_place: null
    		})
    })
    it("RESET_FLOWER", () => {
    	const state = {
    		chosen_flower: 2
    	}
    	const action = 
    	{
    		type: C.RESET_FLOWER
    	}
    	const result = MainReducer(state, action);
    	deepFreeze(state);
    	deepFreeze(action);
    	expect(result)
    		.toEqual({
    			chosen_flower: null
    		})
    })
    
})